# Zephyr Project Configuration File
# This file enables/disables features and sets build-time options
# Each CONFIG_ line enables a specific feature or subsystem

# ==================== LOGGING & CONSOLE ====================
CONFIG_LOG=y
# Global default: WARNING only — modules override as needed
# log levels: 0=OFF, 1=ERROR, 2=WARN, 3=INFO, 4=DEBUG
CONFIG_LOG_DEFAULT_LEVEL=2
# Deferred mode: log messages are buffered and flushed by a
# background thread so UART writes never block control/network.
CONFIG_LOG_MODE_DEFERRED=y
CONFIG_LOG_BUFFER_SIZE=4096
CONFIG_LOG_PROCESS_THREAD_SLEEP_MS=100
# Allow runtime log-level changes via the shell (costs ~1 KB RAM)
CONFIG_LOG_RUNTIME_FILTERING=n
# Per-module compile-time levels are set in each source file via
# LOG_MODULE_REGISTER(name, LOG_LEVEL_xxx) — no Kconfig overrides needed.
CONFIG_UART_CONSOLE=y

# ==================== NETWORKING STACK ====================
# Enable the core networking subsystem
CONFIG_NETWORKING=y
# Enable IPv4 protocol support
CONFIG_NET_IPV4=y
# Disable DHCP client - using static IP instead
CONFIG_NET_DHCPV4=n
# Enable static IP configuration
CONFIG_NET_CONFIG_SETTINGS=y
CONFIG_NET_CONFIG_MY_IPV4_ADDR="192.168.1.100"
CONFIG_NET_CONFIG_MY_IPV4_NETMASK="255.255.255.0"
CONFIG_NET_CONFIG_MY_IPV4_GW="192.168.1.1"
# Enable Ethernet as a Layer 2 protocol (this enables Ethernet support)
CONFIG_NET_L2_ETHERNET=y
# Enable UDP protocol support
CONFIG_NET_UDP=y
# Enable BSD socket API for easier network programming
CONFIG_NET_SOCKETS=y
# Disable POSIX socket names, we use zsock_* explicitly
# (No assignment here; symbol may not exist in this Zephyr version)
# Enable Ethernet driver for STM32 (STM32F767ZI has built-in Ethernet MAC)
CONFIG_ETH_STM32_HAL=y
CONFIG_NET_L2_ETHERNET=y
CONFIG_SPI_BITBANG=y
# Enable network buffer management
CONFIG_NET_BUF=y
# Increase network buffer pools for better performance
CONFIG_NET_PKT_RX_COUNT=16
CONFIG_NET_PKT_TX_COUNT=16
# Enable network management for monitoring connection status
CONFIG_NET_MGMT=y
CONFIG_NET_MGMT_EVENT=y
# Increase network memory pools
CONFIG_NET_BUF_RX_COUNT=16
CONFIG_NET_BUF_TX_COUNT=16
CONFIG_NET_BUF_DATA_SIZE=128
# Enable network statistics for debugging
CONFIG_NET_STATISTICS=y

# ==================== GPIO & HARDWARE ====================
# Enable GPIO (General Purpose Input/Output) for LED control
CONFIG_GPIO=y

# ==================== DEBUGGING & DIAGNOSTICS ====================
# Enable thread stack information for debugging
CONFIG_THREAD_STACK_INFO=y
# Initialize stack memory to help detect stack overflows
CONFIG_INIT_STACKS=y

# ==================== C LIBRARY ====================
# Use newlib C library instead of minimal libc
CONFIG_NEWLIB_LIBC=y
# Enable floating point support in printf/sprintf functions
CONFIG_NEWLIB_LIBC_FLOAT_PRINTF=y
# Enable POSIX API support
# (Do not force-disable here; omit this in prj.conf)
# Increase main thread stack size for networking
CONFIG_MAIN_STACK_SIZE=4096


# Console
CONFIG_SERIAL=y
CONFIG_CONSOLE=y

# SPI + GPIO
CONFIG_SPI=y